{{#liquid-if continuousPlayEnabled class='notification-wrapper'}}
  {{persistent-player.notification
    dismissNotification=(action 'dismissNotification')
    duration=audio.duration
    position=audio.position
    audioType=currentAudio.audioType
  }}
{{/liquid-if}}

{{persistent-player.backdrop
  image=currentAudio.imageMain.url
  fallbackImage=currentAudio.headers.brand.logoImage.url}}

{{#holygrail-layout as |g|}}

  {{#g.left}}
    {{persistent-player.left
      playState=audio.playState
      currentTitle=(or currentAudio.title (concat currentAudio.currentShow.showTitle ' on ' currentAudio.name))
      playOrPause=(action 'playOrPause')
      rewind=(action 'rewind')
      fastForward=(action 'fastForward')}}
  {{/g.left}}

  {{#g.center}}
    {{persistent-player.center
      currentAudio=currentAudio
      isAudiostream=isAudiostream
      position=audio.position
      duration=audio.duration
      downloaded=audio.percentLoaded
      setPosition=(action 'setPosition')}}
  {{/g.center}}

  {{#g.right}}
    {{#persistent-player.right
      volume=audio.volume
      setVolume=(action 'setVolume')
      toggleMute=(action 'toggleMute')
      isMuted=audio.isMuted}}

      {{#if hasBlock}}
        {{yield (hash queueButton=(component 'persistent-player.queue-button'))}}
      {{/if}}
    {{/persistent-player.right}}
  {{/g.right}}
{{/holygrail-layout}}
